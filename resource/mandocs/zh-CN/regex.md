# 正则表达式

from: [php.net PCRE 正则语法](https://www.php.net/manual/zh/regexp.reference.meta.php)


## 元字符

正则表达式的威力源于它可以在模式中拥有选择和重复的能力。 一些字符被赋予 特殊的涵义，使其不再单纯的代表自己，模式中的这种有特殊涵义的编码字符 称为 元字符。

共有两种不同的元字符：一种是可以在模式中方括号外任何地方使用的，另外一种 是需要在方括号内使用的。 在方括号外使用的元字符如下：

**方括号外的元字符**

元字符 | 描述
-----|-----
\ | 一般用于转义字符
^ | 断言目标的开始位置(或在多行模式下是行首)
$ | 断言目标的结束位置(或在多行模式下是行尾)
. | 匹配除换行符外的任何字符(默认)
[ | 开始字符类定义
] | 结束字符类定义
| | 开始一个可选分支
( | 子组的开始标记
) | 子组的结束标记
? | 作为量词，表示 0 次或 1 次匹配。位于量词后面用于改变量词的贪婪特性。 (查阅量词)
* | 量词，0 次或多次匹配
+ | 量词，1 次或多次匹配
{ | 自定义量词开始标记
} | 自定义量词结束标记

模式中方括号内的部分称为“字符类”。 在一个字符类中仅有以下可用元字符：

**方括号内的元字符（字符类）**

元字符 | 描述
-----|-----
\ | 转义字符
^ | 仅在作为第一个字符(方括号内)时，表明字符类取反
- | 标记字符范围

from: [php.net PCRE 正则语法](https://www.php.net/manual/zh/regexp.reference.meta.php)

## 转义序列(反斜线)

**用来描述特定的字符类**

字符  | 含义
-----|-----
`\d` | 任意十进制数字
`\D` | 任意非十进制数字
`\h` | 任意水平空白字符
`\H` | 任意非水平空白字符
`\s` | 任意空白字符
`\S` | 任意非空白字符
`\v` | 任意垂直空白字符
`\V` | 任意非垂直空白字符
`\w` | 任意单词字符
`\W` | 任意非单词字符

上面每一对转义序列都代表了完整字符集中两个不相交的部分， 任意字符一定会匹配其中一个，同时一定不会匹配另外一个

- "空白字符"（whitespace）是 HT (9)、LF (10)、FF (12)、CR (13)、space (32)。
- 单词字符指的是任意字母、数字、下划线

from: [php.net PCRE 正则语法](https://www.php.net/manual/zh/regexp.reference.escape.php)

## 重复/量词

重复次数是通过量词指定的，可以紧跟在下面元素之后：

- 单独的字符, 可以是经过转义的
- 元字符。
- 字符类
- 后向引用(参加下一部分)
- 子组(除非它是一个断言，参考下文)

最常用的三个量词都有单字符缩写。

单字符量词 | 含义
------|------
`*`	|  等价于 {0,}
`+` |  等价于 {1,}
`?` |  等价于 {0,1}

from: [php.net PCRE 正则语法](https://www.php.net/manual/zh/regexp.reference.repetition.php)
